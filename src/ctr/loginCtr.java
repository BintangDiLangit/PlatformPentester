/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ctr;

import DAO.loginDAO;
import javax.swing.JOptionPane;
import model.Cetak;
import vwAdmin.formadmin;
import intrfc.intrfcLogin;
import vw.vwlogin;
import vw.vwlogin;
import model.modelLogin;
import vwPentester.vwPentes;

/**
 *
 * @author BintangDiLangit
 */
public class loginCtr extends Cetak {

    private static vwlogin loginPanel;
    private static intrfcLogin implementLogin;

    public loginCtr(vwlogin loginPanel) {
        this.loginPanel = loginPanel;
        implementLogin = new loginDAO();
    }

    public void masuk() {
        modelLogin.setUserId(loginPanel.getUserText().getText());
        modelLogin.setPass(loginPanel.getPassTxt().getText());

        if (implementLogin.sbgAdmin(modelLogin.getUserId(), modelLogin.getPass())) {
            JOptionPane.showMessageDialog(null, "Anda Login sebagai Admin");
            new formadmin().setVisible(true);
            loginPanel.setVisible(false);
        } else if (implementLogin.sbgPentester(modelLogin.getUserId(), modelLogin.getPass())) {
            JOptionPane.showMessageDialog(null, "Anda Login sebagai Pentester");
            new vwPentes().setVisible(true);
            loginPanel.setVisible(false);
        } else {
            JOptionPane.showMessageDialog(null, "Periksa Kembali User dan Password");
            modelLogin.setUserId(null);
            modelLogin.setPass(null);
        }

    }

}
