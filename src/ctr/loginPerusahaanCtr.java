/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ctr;

import DAO.loginDAO;
import javax.swing.JOptionPane;
import model.Cetak;
import vwAdmin.formadmin;
import intrfc.intrfcLogin;
import vw.vwlogin;
import vw.vwlogin;
import model.modelLogin;
import vwPentester.vwPentes;
import vwPerusahaan.loginPerusahaan;
import vwPerusahaan.vwperusahaan;

/**
 *
 * @author BintangDiLangit
 */
public class loginPerusahaanCtr extends Cetak {

    private static loginPerusahaan loginPanel;
    private static intrfcLogin implementLogin;

    public loginPerusahaanCtr(loginPerusahaan loginPanel) {
        this.loginPanel = loginPanel;
        implementLogin = new loginDAO();
    }

    public void masuk() {
        modelLogin.setUserId(loginPanel.getEmailPer().getText());
        modelLogin.setPass(loginPanel.getPassPer().getText());

        if (implementLogin.sbgPerusahaan(modelLogin.getUserId(), modelLogin.getPass())) {
            JOptionPane.showMessageDialog(null, "Anda Login sebagai Perusahaan");
            new vwperusahaan().setVisible(true);
            loginPanel.setVisible(false);
        }else {
            JOptionPane.showMessageDialog(null, "Periksa Kembali User dan Password");
            modelLogin.setUserId(null);
            modelLogin.setPass(null);
        }

    }

}
